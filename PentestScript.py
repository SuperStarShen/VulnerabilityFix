#!/bin/bash

# Authored by David Shen
# For support
# Version 1.0.0

#import Modules
import subprocess
import sys
import nmap

#Define the target
Target = input()
if Target == "":

    # Run the nmap scan
    # print(Target)

    # Target RFC 1918
    Target = "10.0.0.0/8"
    while (Target == 10.0.0.0/8):
        subprocess.run(["nmap -Pn -sV" + $Target])
        Target = "172.16.0.0/12"
    while (Target == 172.16.0.0/12):
        subprocess.run(["nmap -Pn -sV" + $Target])
        Target = "192.168.0.0/16"
    while (Target == 192.168.0.0/16):
        subprocess.run(["nmap -Pn -sV" + $Target])
else
    subprocess.run(["nmap -Pn" + $Target])
                    
#Code to call Metasploit resource scripts here.

# Create a nmap scanner object
scanner = nmap.PortScanner()

# Define the network range to scan
network = "192.168.1.0/24"

# Scan the network for running hosts
print(f"Scanning {network} for running hosts...")
scanner.scan(hosts=network, arguments="-sn")

# Print the results
print(f"Scan results for {network}:")
for host in scanner.all_hosts():
    if scanner[host].state() == "up":
        print(f"{host} is up")
    else:
        print(f"{host} is down")

